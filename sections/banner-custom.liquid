{% comment %}
  Modern Banner Section
  Features:
  - Editable text fields via schema
  - Responsive design for desktop and mobile
  - Smooth hover animations for buttons
  - Background image support
  - Modern gradient overlays and typography
  - Enhanced visual effects
  - Top bar editable labels and CTA
  - Bottom ribbon editable text
{% endcomment %}

<div class="modern-banner" 
     style="background-image: url('{{ section.settings.background_image | img_url: 'master' }}');">
  <div class="modern-banner__overlay"></div>

  {%- comment -%} Top bar with left badge, center tagline, right CTA {%- endcomment -%}
  <div class="modern-banner__topbar modern-banner__topbar--strip">
    {% if section.settings.top_left_badge != blank %}
      <div class="modern-banner__badge">{{ section.settings.top_left_badge }}</div>
    {% endif %}
    {% if section.settings.top_center_tagline != blank %}
      <div class="modern-banner__tagline">{{ section.settings.top_center_tagline }}</div>
    {% endif %}
    {% if section.settings.top_right_button_text != blank and section.settings.top_right_button_link != blank %}
      <a href="{{ section.settings.top_right_button_link }}" class="modern-banner__topcta">
        <span class="topcta__text">{{ section.settings.top_right_button_text }}</span>
        <span class="topcta__icon">→</span>
      </a>
    {% endif %}
  </div>

  <div class="modern-banner__container">
    <div class="modern-banner__content">
      {% if section.settings.heading != blank %}
        <h1 class="modern-banner__heading modern-banner__heading--solid">{{ section.settings.heading }}</h1>
      {% endif %}
      
      {% if section.settings.subheading != blank %}
        <p class="modern-banner__subheading modern-banner__subheading--solid">{{ section.settings.subheading }}</p>
      {% endif %}
      
      {% if section.settings.description != blank %}
        <div class="modern-banner__description modern-banner__description--solid">{{ section.settings.description }}</div>
      {% endif %}
      
      <div class="modern-banner__buttons">
        {% if section.settings.primary_button_text != blank and section.settings.primary_button_link != blank %}
          <a href="{{ section.settings.primary_button_link }}" 
             class="modern-banner__button modern-banner__button--primary modern-banner__button--dark">
            <span class="button-text">{{ section.settings.primary_button_text }}</span>
            <span class="button-icon">→</span>
          </a>
        {% endif %}
        
        {% if section.settings.secondary_button_text != blank and section.settings.secondary_button_link != blank %}
          <a href="{{ section.settings.secondary_button_link }}" 
             class="modern-banner__button modern-banner__button--secondary">
            <span class="button-text">{{ section.settings.secondary_button_text }}</span>
            <span class="button-icon">→</span>
          </a>
        {% endif %}
      </div>
    </div>
  </div>
  
  <!-- Decorative elements -->
  <div class="modern-banner__decoration">
    <div class="decoration-circle decoration-circle--1"></div>
    <div class="decoration-circle decoration-circle--2"></div>
    <div class="decoration-circle decoration-circle--3"></div>
  </div>

  {%- comment -%} Bottom ribbon text {%- endcomment -%}
  {% if section.settings.bottom_ribbon_text != blank %}
    <div class="modern-banner__ribbon">
      <div class="modern-banner__ribbon-content">{{ section.settings.bottom_ribbon_text }}</div>
    </div>
  {% endif %}
</div>

<style>
  .modern-banner {
    position: relative;
    min-height: 80vh;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 120px 20px 100px; /* extra space for top strip + ribbon */
    overflow: hidden;
    background-attachment: fixed;
    background-color: #ffffff;
  }
  
  .modern-banner__overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: linear-gradient(180deg, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.65) 30%, rgba(255,255,255,0.6) 100%);
    z-index: 1;
  }

  /* Top bar strip */
  .modern-banner__topbar--strip {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 12px;
    padding: 12px 20px;
    z-index: 3;
    background: #f3f4f6; /* light gray strip */
    border-bottom: 1px solid #e5e7eb;
  }
  .modern-banner__badge {
    justify-self: start;
    background: #ffffff;
    color: #111827;
    font-weight: 800;
    padding: 8px 14px;
    border-radius: 8px;
    border: 2px solid #e5e7eb;
    letter-spacing: .02em;
  }
  .modern-banner__tagline {
    justify-self: center;
    color: #111827;
    background: #ffffff;
    padding: 8px 16px;
    border-radius: 999px;
    font-weight: 600;
    border: 1px solid #e5e7eb;
  }
  .modern-banner__topcta {
    justify-self: end;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 12px 18px;
    background: #fde047; /* yellow */
    color: #111827;
    font-weight: 800;
    text-decoration: none;
    border-radius: 12px;
    border: 2px solid rgba(0,0,0,0.08);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }
  .modern-banner__topcta:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
  .topcta__icon { transition: transform 0.25s ease; }
  .modern-banner__topcta:hover .topcta__icon { transform: translateX(4px); }
  
  .modern-banner__container { position: relative; z-index: 2; max-width: 1200px; width: 100%; }
  .modern-banner__content { color: #111827; animation: fadeInUp 1s ease-out; }
  
  .modern-banner__heading { font-size: clamp(2.6rem, 6vw, 5rem); font-weight: 900; margin: 0 0 24px; line-height: 1.05; letter-spacing: -.02em; }
  .modern-banner__heading--solid { color: #111827; -webkit-text-fill-color: initial; }
  .modern-banner__subheading { font-size: clamp(1.1rem, 2.2vw, 1.6rem); font-weight: 600; margin: 0 0 12px; opacity: 1; color: #111827; }
  .modern-banner__description { font-size: 1.05rem; margin: 0 0 38px; opacity: 0.9; max-width: 700px; margin-left: auto; margin-right: auto; line-height: 1.7; color: #111827; }
  
  .modern-banner__buttons { display: flex; gap: 18px; justify-content: center; flex-wrap: wrap; }
  
  .modern-banner__button { display: inline-flex; align-items: center; gap: 12px; padding: 16px 32px; text-decoration: none; border-radius: 10px; font-weight: 700; font-size: 1rem; transition: all .35s cubic-bezier(.4,0,.2,1); border: 2px solid transparent; cursor: pointer; position: relative; overflow: hidden; }
  .modern-banner__button::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,.45), transparent); transition: left .6s; }
  .modern-banner__button:hover::before { left: 100%; }
  
  /* Dark primary like mock */
  .modern-banner__button--dark { background: #111827; color: #ffffff; box-shadow: 0 10px 24px rgba(17,24,39,.25); }
  .modern-banner__button--dark:hover { transform: translateY(-3px); box-shadow: 0 16px 36px rgba(17,24,39,.35); }
  
  .modern-banner__button--secondary { background: rgba(0,0,0,.04); color: #111827; border-color: #e5e7eb; }
  .modern-banner__button--secondary:hover { background: rgba(0,0,0,.08); transform: translateY(-3px); }
  .button-icon { transition: transform .3s ease; }
  .modern-banner__button:hover .button-icon { transform: translateX(5px); }
  
  /* Decorative elements (subtle) */
  .modern-banner__decoration { position: absolute; inset: 0; pointer-events: none; z-index: 1; }
  .decoration-circle { position: absolute; border-radius: 50%; background: rgba(0,0,0,0.03); animation: float 6s ease-in-out infinite; }
  .decoration-circle--1 { width: 90px; height: 90px; top: 18%; left: 12%; animation-delay: 0s; }
  .decoration-circle--2 { width: 54px; height: 54px; top: 58%; right: 16%; animation-delay: 2s; }
  .decoration-circle--3 { width: 72px; height: 72px; bottom: 18%; left: 22%; animation-delay: 4s; }

  /* Bottom ribbon */
  .modern-banner__ribbon { position: absolute; left: 0; right: 0; bottom: 0; background: #f3f4f6; color: #111827; z-index: 3; border-top: 1px solid #e5e7eb; }
  .modern-banner__ribbon-content { max-width: 1200px; margin: 0 auto; padding: 8px 20px; text-align: center; font-weight: 800; letter-spacing: .06em; text-transform: uppercase; font-size: .85rem; }
  
  @keyframes fadeInUp { from { opacity: 0; transform: translateY(40px);} to { opacity: 1; transform: translateY(0);} }
  @keyframes float { 0%,100% { transform: translateY(0px) rotate(0deg);} 50% { transform: translateY(-14px) rotate(180deg);} }
  
  /* Mobile Responsive */
  @media (max-width: 768px) {
    .modern-banner { min-height: 70vh; padding: 96px 15px 80px; background-attachment: scroll; }
    .modern-banner__buttons { flex-direction: column; align-items: center; gap: 14px; }
    .modern-banner__button { width: 100%; max-width: 300px; justify-content: center; }
    .decoration-circle { display: none; }
    .modern-banner__topbar--strip { grid-template-columns: 1fr; gap: 8px; justify-items: center; }
  }
  
  @media (max-width: 480px) {
    .modern-banner { min-height: 60vh; padding: 80px 15px 70px; }
    .modern-banner__button { padding: 14px 26px; font-size: .95rem; }
  }
</style>

{% schema %}
{
  "name": "Modern Banner",
  "settings": [
    { "type": "image_picker", "id": "background_image", "label": "Background Image" },

    { "type": "header", "content": "Top Bar" },
    { "type": "text", "id": "top_left_badge", "label": "Top-left badge text", "default": "TISSO VISON" },
    { "type": "text", "id": "top_center_tagline", "label": "Top-center tagline", "default": "Find the ideal gift for your loved ones." },
    { "type": "text", "id": "top_right_button_text", "label": "Top-right button text", "default": "CHOOSE GIFT" },
    { "type": "url", "id": "top_right_button_link", "label": "Top-right button link" },

    { "type": "header", "content": "Main Content" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "The Gift Guide" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "" },
    { "type": "richtext", "id": "description", "label": "Description", "default": "<p>Discover Joy: Your Ultimate Holiday Gift Destination. Explore our curated selection and find the perfect gifts to delight your loved ones this holiday season.</p>" },
    { "type": "text", "id": "primary_button_text", "label": "Primary Button Text", "default": "SHOP NOW" },
    { "type": "url", "id": "primary_button_link", "label": "Primary Button Link" },
    { "type": "text", "id": "secondary_button_text", "label": "Secondary Button Text", "default": "" },
    { "type": "url", "id": "secondary_button_link", "label": "Secondary Button Link" },

    { "type": "header", "content": "Bottom Ribbon" },
    { "type": "text", "id": "bottom_ribbon_text", "label": "Bottom ribbon text", "default": "SUSTAINABLE, ETHICALLY MADE CLOTHES IN SIZES XXS TO 6XL" }
  ],
  "presets": [ { "name": "Modern Banner", "category": "Custom Sections" } ]
}
{% endschema %}
